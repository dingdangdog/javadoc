<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (22) -->
<title>Gatherers (Java SE 22 &amp; JDK 22)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: java.base, package: java.util.stream, class: Gatherers">
<meta name="generator" content="javadoc/ClassWriter">
<meta name="keywords" content="java.util.stream.Gatherers class">
<meta name="keywords" content="windowFixed()">
<meta name="keywords" content="windowSliding()">
<meta name="keywords" content="fold()">
<meta name="keywords" content="scan()">
<meta name="keywords" content="mapConcurrent()">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 14px;"><strong>Java SE 22 &amp; JDK 22</strong> </div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Gatherers.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../preview-list.html">Preview</a></li>
<li><a href="../../../../new-list.html">New</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../module-summary.html">java.base</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">java.util.stream</a></div>
<h1 title="Class Gatherers" class="title">Class Gatherers</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="../../lang/Object.html" title="class in java.lang">java.lang.Object</a>
<div class="inheritance">java.util.stream.Gatherers</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">Gatherers</span>
<span class="extends-implements">extends <a href="../../lang/Object.html" title="class in java.lang">Object</a></span></div>
<div class="preview-block" id="preview-java.util.stream.Gatherers"><span class="preview-label"><code>Gatherers</code> is a preview API of the Java platform.</span>
<div class="preview-comment">Programs can only use <code>Gatherers</code> when preview features are enabled.</div>
<div class="preview-comment">Preview features may be removed in a future release, or upgraded to permanent features of the Java platform.</div>
</div>
<div class="block">Implementations of <a href="Gatherer.html" title="interface in java.util.stream"><code>Gatherer</code></a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup> that provide useful intermediate
 operations, such as windowing functions, folding functions,
 transforming elements concurrently, etc.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>22</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;T,<wbr>
R&gt;&nbsp;<a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup><wbr>&lt;T,<wbr>?,<wbr>R&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#fold(java.util.function.Supplier,java.util.function.BiFunction)" class="member-name-link">fold</a><wbr>(<a href="../function/Supplier.html" title="interface in java.util.function">Supplier</a>&lt;R&gt;&nbsp;initial,
 <a href="../function/BiFunction.html" title="interface in java.util.function">BiFunction</a>&lt;? super R,<wbr>? super T,<wbr>? extends R&gt;&nbsp;folder)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a Gatherer that performs an ordered, <i>reduction-like</i>,
 transformation for scenarios where no combiner-function can be
 implemented, or for reductions which are intrinsically
 order-dependent.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;T,<wbr>
R&gt;&nbsp;<a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup><wbr>&lt;T,<wbr>?,<wbr>R&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#mapConcurrent(int,java.util.function.Function)" class="member-name-link">mapConcurrent</a><wbr>(int&nbsp;maxConcurrency,
 <a href="../function/Function.html" title="interface in java.util.function">Function</a>&lt;? super T,<wbr>? extends R&gt;&nbsp;mapper)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">An operation which executes a function concurrently
 with a configured level of max concurrency, using
 <a href="../../../../java.base/java/lang/Thread.html#virtual-threads">virtual threads</a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;T,<wbr>
R&gt;&nbsp;<a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup><wbr>&lt;T,<wbr>?,<wbr>R&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#scan(java.util.function.Supplier,java.util.function.BiFunction)" class="member-name-link">scan</a><wbr>(<a href="../function/Supplier.html" title="interface in java.util.function">Supplier</a>&lt;R&gt;&nbsp;initial,
 <a href="../function/BiFunction.html" title="interface in java.util.function">BiFunction</a>&lt;? super R,<wbr>? super T,<wbr>? extends R&gt;&nbsp;scanner)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a Gatherer that performs a Prefix Scan -- an incremental
 accumulation -- using the provided functions.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;TR&gt;&nbsp;<a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup><wbr>&lt;TR,<wbr>?,<wbr><a href="../List.html" title="interface in java.util">List</a>&lt;TR&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#windowFixed(int)" class="member-name-link">windowFixed</a><wbr>(int&nbsp;windowSize)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a Gatherer that gathers elements into windows
 -- encounter-ordered groups of elements -- of a fixed size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;TR&gt;&nbsp;<a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup><wbr>&lt;TR,<wbr>?,<wbr><a href="../List.html" title="interface in java.util">List</a>&lt;TR&gt;&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#windowSliding(int)" class="member-name-link">windowSliding</a><wbr>(int&nbsp;windowSize)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a Gatherer that gathers elements into windows --
 encounter-ordered groups of elements -- of a given size, where each
 subsequent window includes all elements of the previous window except
 for the least recent, and adds the next element in the stream.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class&nbsp;java.lang.<a href="../../lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../lang/Object.html#clone()">clone</a>, <a href="../../lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../lang/Object.html#finalize()">finalize</a>, <a href="../../lang/Object.html#getClass()">getClass</a>, <a href="../../lang/Object.html#hashCode()">hashCode</a>, <a href="../../lang/Object.html#notify()">notify</a>, <a href="../../lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../lang/Object.html#toString()">toString</a>, <a href="../../lang/Object.html#wait()">wait</a>, <a href="../../lang/Object.html#wait(long)">wait</a>, <a href="../../lang/Object.html#wait(long,int)">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="windowFixed(int)">
<h3>windowFixed</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;TR&gt;</span>&nbsp;<span class="return-type"><a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup>&lt;TR,<wbr>?,<wbr><a href="../List.html" title="interface in java.util">List</a>&lt;TR&gt;&gt;</span>&nbsp;<span class="element-name">windowFixed</span><wbr><span class="parameters">(int&nbsp;windowSize)</span></div>
<div class="block">Returns a Gatherer that gathers elements into windows
 -- encounter-ordered groups of elements -- of a fixed size.
 If the stream is empty then no window will be produced.
 The last window may contain fewer elements than the supplied window size.

 <p>Example:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// will contain: [[1, 2, 3], [4, 5, 6], [7, 8]]
List&lt;List&lt;Integer&gt;&gt; windows =
    Stream.of(1,2,3,4,5,6,7,8).gather(Gatherers.windowFixed(3)).toList();
</code></pre>
</div>
</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>For efficiency reasons, windows may be allocated contiguously
          and eagerly. This means that choosing large window sizes for
          small streams may use excessive memory for the duration of
          evaluation of this operation.</dd>
<dt>Implementation Requirements:</dt>
<dd>Each window produced is an unmodifiable List; calls to any
 mutator method will always cause <code>UnsupportedOperationException</code>
 to be thrown. There are no guarantees on the implementation type or
 serializability of the produced Lists.</dd>
<dt>Type Parameters:</dt>
<dd><code>TR</code> - the type of elements the returned gatherer consumes
             and the contents of the windows it produces</dd>
<dt>Parameters:</dt>
<dd><code>windowSize</code> - the size of the windows</dd>
<dt>Returns:</dt>
<dd>a new gatherer which groups elements into fixed-size windows</dd>
<dt>Throws:</dt>
<dd><code><a href="../../lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - when <code>windowSize</code> is less than 1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="windowSliding(int)">
<h3>windowSliding</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;TR&gt;</span>&nbsp;<span class="return-type"><a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup>&lt;TR,<wbr>?,<wbr><a href="../List.html" title="interface in java.util">List</a>&lt;TR&gt;&gt;</span>&nbsp;<span class="element-name">windowSliding</span><wbr><span class="parameters">(int&nbsp;windowSize)</span></div>
<div class="block">Returns a Gatherer that gathers elements into windows --
 encounter-ordered groups of elements -- of a given size, where each
 subsequent window includes all elements of the previous window except
 for the least recent, and adds the next element in the stream.
 If the stream is empty then no window will be produced. If the size of
 the stream is smaller than the window size then only one window will
 be produced, containing all elements in the stream.

 <p>Example:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// will contain: [[1, 2], [2, 3], [3, 4], [4, 5], [5, 6], [6, 7], [7, 8]]
List&lt;List&lt;Integer&gt;&gt; windows2 =
    Stream.of(1,2,3,4,5,6,7,8).gather(Gatherers.windowSliding(2)).toList();

// will contain: [[1, 2, 3, 4, 5, 6], [2, 3, 4, 5, 6, 7], [3, 4, 5, 6, 7, 8]]
List&lt;List&lt;Integer&gt;&gt; windows6 =
    Stream.of(1,2,3,4,5,6,7,8).gather(Gatherers.windowSliding(6)).toList();
</code></pre>
</div>
</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>For efficiency reasons, windows may be allocated contiguously
          and eagerly. This means that choosing large window sizes for
          small streams may use excessive memory for the duration of
          evaluation of this operation.</dd>
<dt>Implementation Requirements:</dt>
<dd>Each window produced is an unmodifiable List; calls to any
 mutator method will always cause <code>UnsupportedOperationException</code>
 to be thrown. There are no guarantees on the implementation type or
 serializability of the produced Lists.</dd>
<dt>Type Parameters:</dt>
<dd><code>TR</code> - the type of elements the returned gatherer consumes
             and the contents of the windows it produces</dd>
<dt>Parameters:</dt>
<dd><code>windowSize</code> - the size of the windows</dd>
<dt>Returns:</dt>
<dd>a new gatherer which groups elements into sliding windows</dd>
<dt>Throws:</dt>
<dd><code><a href="../../lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - when windowSize is less than 1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="fold(java.util.function.Supplier,java.util.function.BiFunction)">
<h3>fold</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;T,<wbr>
R&gt;</span>&nbsp;<span class="return-type"><a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup>&lt;T,<wbr>?,<wbr>R&gt;</span>&nbsp;<span class="element-name">fold</span><wbr><span class="parameters">(<a href="../function/Supplier.html" title="interface in java.util.function">Supplier</a>&lt;R&gt;&nbsp;initial,
 <a href="../function/BiFunction.html" title="interface in java.util.function">BiFunction</a>&lt;? super R,<wbr>? super T,<wbr>? extends R&gt;&nbsp;folder)</span></div>
<div class="block">Returns a Gatherer that performs an ordered, <i>reduction-like</i>,
 transformation for scenarios where no combiner-function can be
 implemented, or for reductions which are intrinsically
 order-dependent.</div>
<dl class="notes">
<dt>Implementation Requirements:</dt>
<dd>If no exceptions are thrown during processing, then this
 operation only ever produces a single element.

 <p>Example:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// will contain: Optional["123456789"]
Optional&lt;String&gt; numberString =
    Stream.of(1,2,3,4,5,6,7,8,9)
          .gather(
              Gatherers.fold(() -&gt; "", (string, number) -&gt; string + number)
           )
          .findFirst();
</code></pre>
</div>
</dd>
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of elements the returned gatherer consumes</dd>
<dd><code>R</code> - the type of elements the returned gatherer produces</dd>
<dt>Parameters:</dt>
<dd><code>initial</code> - the identity value for the fold operation</dd>
<dd><code>folder</code> - the folding function</dd>
<dt>Returns:</dt>
<dd>a new Gatherer</dd>
<dt>Throws:</dt>
<dd><code><a href="../../lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if any of the parameters are <code>null</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="Stream.html#reduce(T,java.util.function.BinaryOperator)"><code>Stream.reduce(Object, BinaryOperator)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="scan(java.util.function.Supplier,java.util.function.BiFunction)">
<h3>scan</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;T,<wbr>
R&gt;</span>&nbsp;<span class="return-type"><a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup>&lt;T,<wbr>?,<wbr>R&gt;</span>&nbsp;<span class="element-name">scan</span><wbr><span class="parameters">(<a href="../function/Supplier.html" title="interface in java.util.function">Supplier</a>&lt;R&gt;&nbsp;initial,
 <a href="../function/BiFunction.html" title="interface in java.util.function">BiFunction</a>&lt;? super R,<wbr>? super T,<wbr>? extends R&gt;&nbsp;scanner)</span></div>
<div class="block">Returns a Gatherer that performs a Prefix Scan -- an incremental
 accumulation -- using the provided functions.  Starting with an
 initial value obtained from the <code>Supplier</code>, each subsequent
 value is obtained by applying the <code>BiFunction</code> to the current
 value and the next input element, after which the resulting value is
 produced downstream.

 <p>Example:
 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">// will contain: ["1", "12", "123", "1234", "12345", "123456", "1234567", "12345678", "123456789"]
List&lt;String&gt; numberStrings =
    Stream.of(1,2,3,4,5,6,7,8,9)
          .gather(
              Gatherers.scan(() -&gt; "", (string, number) -&gt; string + number)
           )
          .toList();
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of element which this gatherer consumes</dd>
<dd><code>R</code> - the type of element which this gatherer produces</dd>
<dt>Parameters:</dt>
<dd><code>initial</code> - the supplier of the initial value for the scanner</dd>
<dd><code>scanner</code> - the function to apply for each element</dd>
<dt>Returns:</dt>
<dd>a new Gatherer which performs a prefix scan</dd>
<dt>Throws:</dt>
<dd><code><a href="../../lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if any of the parameters are <code>null</code></dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="mapConcurrent(int,java.util.function.Function)">
<h3>mapConcurrent</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;T,<wbr>
R&gt;</span>&nbsp;<span class="return-type"><a href="Gatherer.html" title="interface in java.util.stream">Gatherer</a><sup><a href="Gatherer.html#preview-java.util.stream.Gatherer">PREVIEW</a></sup>&lt;T,<wbr>?,<wbr>R&gt;</span>&nbsp;<span class="element-name">mapConcurrent</span><wbr><span class="parameters">(int&nbsp;maxConcurrency,
 <a href="../function/Function.html" title="interface in java.util.function">Function</a>&lt;? super T,<wbr>? extends R&gt;&nbsp;mapper)</span></div>
<div class="block">An operation which executes a function concurrently
 with a configured level of max concurrency, using
 <a href="../../../../java.base/java/lang/Thread.html#virtual-threads">virtual threads</a>.
 This operation preserves the ordering of the stream.</div>
<dl class="notes">
<dt>API Note:</dt>
<dd>In progress tasks will be attempted to be cancelled,
 on a best-effort basis, in situations where the downstream no longer
 wants to receive any more elements.</dd>
<dt>Implementation Requirements:</dt>
<dd>If a result of the function is to be pushed downstream but
 instead the function completed exceptionally then the corresponding
 exception will instead be rethrown by this method as an instance of
 <a href="../../lang/RuntimeException.html" title="class in java.lang"><code>RuntimeException</code></a>, after which any remaining tasks are canceled.</dd>
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of input</dd>
<dd><code>R</code> - the type of output</dd>
<dt>Parameters:</dt>
<dd><code>maxConcurrency</code> - the maximum concurrency desired</dd>
<dd><code>mapper</code> - a function to be executed concurrently</dd>
<dt>Returns:</dt>
<dd>a new Gatherer</dd>
<dt>Throws:</dt>
<dd><code><a href="../../lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>maxConcurrency</code> is less than 1</dd>
<dd><code><a href="../../lang/NullPointerException.html" title="class in java.lang">NullPointerException</a></code> - if <code>mapper</code> is <code>null</code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase22&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples. <a href="https://docs.oracle.com/en/java/javase/index.html">Other versions.</a><br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2024, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/java/javase/terms/license/java22speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <!-- Version 22.0.2+9-70 --></small></p>
</footer>
</body>
</html>
